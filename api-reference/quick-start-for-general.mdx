---
title: "Get Started to Run a General Job"
description: "Start using Powerdrill Enterprise today and transform hours of data work into just minutes"
---


## Step 1. Get your API key

<Warning>
The Powerdrill Enterprise Open API is currently in beta. Join our waitlist by [filling in the form](https://docs.google.com/forms/d/e/1FAIpQLSf1YvW9HRlKBAmCOTlV253AUbfw1X0_XtQXrDVulyrNgBa6aQ/viewform). Once approved, you'll receive a confirmation email promptly.
</Warning>

1. Sign in to [Powerdrill](https://powerdrill.ai) with the email that you've used to join our waitlist. 

2. Visit https://powerdrill.ai/teamspace.

3. On the displayed page, enter your organization name, review and accept our *Terms of Service* and *Privacy Notice*, then click **Continue**.

    <Frame>
     <img src="/images/create_org.png" style={{ borderRadius: '0.5rem' }} />
    </Frame>

4. Connect to your credit card as prompted. You will then be directed to the Teamspace page.

    <Info>
      Your credit card won't be charged unless you purchase a subscription.
    </Info>
    
5.  Navigate to the **API** tab, click **+ API access key** to generate an API key, and make sure to save it securely, as it will only be displayed once on the Powerdrill platform.

    <Frame>
     <img src="/images/create-api-key.png" style={{ borderRadius: '0.5rem' }} />
    </Frame>

    <Warning>
      **Keep your API key SECRET.** Never share it or include it in client-side code, such as browsers or apps. For production use, ensure all requests are routed through your backend server, where the API key can be securely accessed from an environment variable or a key management service.
    </Warning>

## Step 2. Create a session

To create a session, make a request to the [POST /v1/sessions](api-reference/create-session) endpoint. Sessions are essential for running jobs on Powerdrill, as each job must be linked to a session using its session ID.


**Example request**:

<CodeGroup>

```curl
curl --location 'https://ai.data.cloud/api/v1/sessions' \
--header 'x-pd-api-key: $PD_API_KEY' \
--header 'x-pd-api-agent-id: GENERAL' \
--header 'Content-Type: application/json' \
--data '{
  "title": "New Title",
  "languageType": "EN",
  "jobMode": "AUTO",
  "maxMessagesInContext": 10
}'
```

```python
import requests
import json

url = "https://ai.data.cloud/api/v1/sessions"

payload = json.dumps({
  "title": "New Title",
  "languageType": "EN",
  "jobMode": "AUTO",
  "maxMessagesInContext": 10
})
headers = {
  'x-pd-api-key': '$PD_API_KEY',
  'x-pd-api-agent-id': 'GENERAL',
  'Content-Type': 'application/json'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
```

```node.js
var request = require('request');
var options = {
  'method': 'POST',
  'url': 'https://ai.data.cloud/api/v1/sessions',
  'headers': {
    'x-pd-api-key': '$PD_API_KEY',
    'x-pd-api-agent-id': 'GENERAL',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    "title": "New Title",
    "languageType": "EN",
    "jobMode": "AUTO",
    "maxMessagesInContext": 10
  })

};
request(options, function (error, response) {
  if (error) throw new Error(error);
  console.log(response.body);
});
```
</CodeGroup>


<Tip>

- Replace `$PD_API_KEY` with the API key you've obtained in [Step 1](#step-1-get-your-api-key). 

- Since this topic covers running a general job, set the `x-pd-api-agent-id` header to `GENERAL` (uppercase).

</Tip>


**Example response**:

```json
{
    "code": 0,
    "data": {
        "id": "4440ab38-3df0-465b-a66c-bf6acb0f1bc2"
    }
}
```

Obtain the `id` value (session ID) from the response and save it for use in the following step.




## Step 3. Create a data source and a dataset

<Warning>
 This step is optional but highly recommended, as it allows you to receive insights tailored to your own data.
</Warning>

Data sources are the data you upload to Powerdrill for embedding and vectorized storage and retrieval, while datasets are collections of data sources that help organize and categorize them.

You can create data sources and datasets in two ways:

- **Method 1**: Create a dataset first, then add data sources to it.  

- **Method 2**: Upload data sources directly without specifying a dataset, and Powerdrill will automatically create a default dataset for them.


<Tabs>
  <Tab title="Method 1">

    1. Make a request to `POST /v1/datasets` endpoint to create a dataset.

        **Example request**:

        <CodeGroup>

        ```curl
        curl --location 'https://ai.data.cloud/api/v1/datasets' \
        --header 'x-pd-api-key: $PD_API_KEY' \
        --header 'Content-Type: application/json' \
        --data '{
          "description": "My dataset",
          "name": "My dataset"
        }'
        ```

        ```python
        import requests
        import json

        url = "https://ai.data.cloud/api/v1/datasets"

        payload = json.dumps({
          "description": "My dataset",
          "name": "My dataset"
        })
        headers = {
          'x-pd-api-key': '$PD_API_KEY',
          'Content-Type': 'application/json'
        }

        response = requests.request("POST", url, headers=headers, data=payload)

        print(response.text)
        ```

        ```node.js
        var request = require('request');
        var options = {
          'method': 'POST',
          'url': 'https://ai.data.cloud/api/v1/datasets',
          'headers': {
            'x-pd-api-key': '$PD_API_KEY',
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            "description": "My dataset",
            "name": "My dataset"
          })

        };
        request(options, function (error, response) {
          if (error) throw new Error(error);
          console.log(response.body);
        });
        ```
        </CodeGroup>


        <Info>
         Replace `$PD_API_KEY` with the API key you've obtained in [Step 1](#step-1-get-your-api-key).  
        </Info>

        **Example response**:

        ```json
        {
            "code": 0,
            "data": {
                "id": "cm3my37en3q36017q7x3hyyf4"
            }
        }

        ```

        Obtain the `id` value (dataset ID) from the response and save it for later use.
        
    2. Make a request to the [POST /v1/datasets/{datasetId}/datasources](api-reference/create-data-source) endpoint.

        **Example request**:

        <CodeGroup>
        ```curl
        curl --location 'https://ai.data.cloud/api/v1/datasets/cm3my37en3q36017q7x3hyyf4/datasources' \
        --header 'x-pd-api-key: $PD_API_KEY' \
        --header 'Content-Type: application/json' \
        --data '{
          "name": "test.pdf",
          "fileName": "test.pdf",
          "type": "FILE",
          "url": "https://arxiv.org/pdf/2406.12660v1.pdf"
        }'
        ```

        ```python
        import requests
        import json

        url = "https://ai.data.cloud/api/v1/datasets/cm3my37en3q36017q7x3hyyf4/datasources"

        payload = json.dumps({
          "name": "test.pdf",
          "fileName": "test.pdf",
          "type": "FILE",
          "url": "https://arxiv.org/pdf/2406.12660v1.pdf"
        })
        headers = {
          'x-pd-api-key': '$PD_API_KEY',
          'Content-Type': 'application/json'
        }

        response = requests.request("POST", url, headers=headers, data=payload)

        print(response.text)
        ```

        ```node.js
        var request = require('request');
        var options = {
          'method': 'POST',
          'url': 'https://ai.data.cloud/api/v1/datasets/cm3my37en3q36017q7x3hyyf4/datasources',
          'headers': {
            'x-pd-api-key': '$PD_API_KEY',
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            "name": "test.pdf",
            "fileName": "test.pdf",
            "type": "FILE",
            "url": "https://arxiv.org/pdf/2406.12660v1.pdf"
          })

        };
        request(options, function (error, response) {
          if (error) throw new Error(error);
          console.log(response.body);
        });
        ```
        </CodeGroup>

        <Info>
        - Replace the `datasetId` value with the ID of the dataset you've created in the previous sub-step. 

        - Specify either `url` or `fileKey`, but not both. Use `url` to upload a file through a publicly accessible URL. For privately accessible files, use `fileKey` (this feature will be supported soon).
        </Info>

        **Example response**:

        ```json
        {
            "code": 0,
            "data": {
                "id": "cm3myfsfc03jn011csb8wah6p",
                "datasetId": "cm3my37en3q36017q7x3hyyf4",
                "name": "test.pdf",
                "fileName": "test.pdf",
                "type": "FILE",
                "status": "pending"
            }
        }

        ```

        <Info>
         Repeat this sub-step to create multiple data sources in the same dataset.
        </Info>

    
  </Tab>
  <Tab title="Method 2">
    Make a request to the [POST /v1/datasources](api-reference/create-data-source-without-dataset) endpoint.

    **Example request**:

    <CodeGroup>
    ```curl
    curl --location 'https://ai.data.cloud/api/v1/datasets/cm3my37en3q36017q7x3hyyf4/datasources' \
    --header 'x-pd-api-key: $PD_API_KEY' \
    --header 'Content-Type: application/json' \
    --data '{
      "name": "test.pdf",
      "fileName": "test.pdf",
      "type": "FILE",
      "url": "https://arxiv.org/pdf/2406.12660v1.pdf"
    }'
    ```

    ```python
    import requests
    import json

    url = "https://ai.data.cloud/api/v1/datasets/cm3my37en3q36017q7x3hyyf4/datasources"

    payload = json.dumps({
      "name": "test.pdf",
      "fileName": "test.pdf",
      "type": "FILE",
      "url": "https://arxiv.org/pdf/2406.12660v1.pdf"
    })
    headers = {
      'x-pd-api-key': '$PD_API_KEY',
      'Content-Type': 'application/json'
    }

    response = requests.request("POST", url, headers=headers, data=payload)

    print(response.text)
    ```

    ```node.js
    var request = require('request');
    var options = {
      'method': 'POST',
      'url': 'https://ai.data.cloud/api/v1/datasets/cm3my37en3q36017q7x3hyyf4/datasources',
      'headers': {
        'x-pd-api-key': '$PD_API_KEY',
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        "name": "test.pdf",
        "fileName": "test.pdf",
        "type": "FILE",
        "url": "https://arxiv.org/pdf/2406.12660v1.pdf"
      })

    };
    request(options, function (error, response) {
      if (error) throw new Error(error);
      console.log(response.body);
    });
    ```
    </CodeGroup>


    <Info>
    Specify either `url` or `fileKey`, but not both. Use `url` to upload a file through a publicly accessible URL. For privately accessible files, use `fileKey` (this feature will be supported soon).
    </Info>

    **Example response**:

     ```json
    {
        "code": 0,
        "data": {
            "id": "cm3myfsfc03jn011csb8wah6p",
            "datasetId": "cm3my37en3q36017q7x3hyyf4",
            "name": "test.pdf",
            "fileName": "test.pdf",
            "type": "FILE",
            "status": "pending"
        }
    }
    ```

    Obtain the `datasetId` value (dataset ID) from the response and save it for later use.
  </Tab>
</Tabs>


## Step 4. Create a job

Now, after you've prepared a session and probably a dataset stuffed with data sources, you can create a job to start conversing with Powerdrill.

<Tip>
For the definition of job, see [What is a job?](enterprise/pricing/#what-is-a-job).
</Tip>

Make a request to the [POST /v1/jobs](api-reference/create-job) endpoint. 

Powerdrill provides the ability to stream responses, controlled by the `stream` parameter. For more details about how to understand the streaming mode, see [Streaming](api-reference/streaming).

- If `stream` is set to `true`, streaming is enabled.

- If `stream` is set to `false`, streaming is disabled.


**Example 1**: When `stream` is set to `true`:

- **Request**: 

  <CodeGroup>

  ```curl
  curl --location 'https://ai.data.cloud/api/v1/job' \
  --header 'x-pd-api-key: $PD_API_KEY' \
  --header 'x-pd-api-agent-id: GENERAL' \
  --header 'Content-Type: application/json' \
  --data '{
    "datasetId": "cm3my37en3q36017q7x3hyyf4",
    "datasourceIdList": [
      "cm3myfsfc03jn011csb8wah6p"
    ],
    "languageType": "IT",
    "question": "How do '\''Digital Services for Taxpayers'\'' scores vary across economies, and which economy has the most advanced digital services?",
    "sessionId": "4440ab38-3df0-465b-a66c-bf6acb0f1bc2",
    "stream": true
  }'
  ```

  ```python
  import requests
  import json

  url = "https://ai.data.cloud/api/v1/job"

  payload = json.dumps({
    "datasetId": "cm3my37en3q36017q7x3hyyf4",
    "datasourceIdList": [
      "cm3myfsfc03jn011csb8wah6p"
    ],
    "languageType": "IT",
    "question": "How do 'Digital Services for Taxpayers' scores vary across economies, and which economy has the most advanced digital services?",
    "sessionId": "4440ab38-3df0-465b-a66c-bf6acb0f1bc2",
    "stream": True
  })
  headers = {
    'x-pd-api-key': '$PD_API_KEY',
    'x-pd-api-agent-id': 'GENERAL',
    'Content-Type': 'application/json'
  }

  response = requests.request("POST", url, headers=headers, data=payload)

  print(response.text)
  ```


  ```node.js
  var request = require('request');
  var options = {
    'method': 'POST',
    'url': 'https://ai.data.cloud/api/v1/job',
    'headers': {
      'x-pd-api-key': '$PD_API_KEY',
      'x-pd-api-agent-id': 'GENERAL',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      "datasetId": "cm3my37en3q36017q7x3hyyf4",
      "datasourceIdList": [
        "cm3myfsfc03jn011csb8wah6p"
      ],
      "languageType": "IT",
      "question": "How do 'Digital Services for Taxpayers' scores vary across economies, and which economy has the most advanced digital services?",
      "sessionId": "4440ab38-3df0-465b-a66c-bf6acb0f1bc2",
      "stream": true
    })

  };
  request(options, function (error, response) {
    if (error) throw new Error(error);
    console.log(response.body);
  });
  ```
  </CodeGroup>


- **Response:**

  ```json

  ```

**Example 2**: When `stream` is set to `false`: 

- **Request**:

  <CodeGroup>
  ```curl

  ```

  ```python

  ```

  ```node.js

  ```
  </CodeGroup>


- **Response**:

  ```json

  ```


<Info>

- Replace `$PD_API_KEY` with the API key you've obtained in [Step 1](#step-1-get-your-api-key).

- Since this topic covers running a general job, set the `x-pd-api-agent-id` header to `GENERAL` (uppercase).

- Replace the `sessionId` value with the ID of the session you've created in [Step 2](#step-2-create-a-session).

- To enable Powerdrill to retrieve information from your own data and provide responses specific to it, set the `datasetId` to the ID of the dataset obtained in [Step 3](step-3-create-a-data-source-and-a-dataset).

</Info>



## More to know

For each new organization, Powerdrill Enterprise offers 500 general jobs for free. After the free quota is consumed, to run more general jobs, you must subscribe to Powerdrill Enterprise via the [POST /v1/subscriptions](api-reference/create-subscription) endpoint. 

**Sample request**:

<CodeGroup>
```curl
curl --location 'https://ai.data.cloud/api/v1/subscriptions' \
--header 'x-pd-api-key: $PD_API_KEY' \
--header 'Content-Type: application/json' \
--data '{
    "targetId":"proj-cm3iheok703l401l1o1gyr1rt",
    "targetType":"PROJECT_GENERAL_MODE_PLAN",
    "tier":"TIER2",
    "paymentMode":"ONE_TIME"

}'
```

```python
import requests
import json

url = "https://ai.data.cloud/api/v1/subscriptions"

payload = json.dumps({
  "targetId": "proj-cm3iheok703l401l1o1gyr1rt",
  "targetType": "PROJECT_GENERAL_MODE_PLAN",
  "tier": "TIER2",
  "paymentMode": "ONE_TIME"
})
headers = {
  'x-pd-api-key': '$PD_API_KEY',
  'Content-Type': 'application/json'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
```


```node.js
var request = require('request');
var options = {
  'method': 'POST',
  'url': 'https://ai.data.cloud/api/v1/subscriptions',
  'headers': {
    'x-pd-api-key': '$PD_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    "targetId": "proj-cm3iheok703l401l1o1gyr1rt",
    "targetType": "PROJECT_GENERAL_MODE_PLAN",
    "tier": "TIER2",
    "paymentMode": "ONE_TIME"
  })

};
request(options, function (error, response) {
  if (error) throw new Error(error);
  console.log(response.body);
});
```
</CodeGroup>


**Example response**:

```json

```


<Info>

- Replace `$PD_API_KEY` with the API key you've obtained in [Step 1](#step-1-get-your-api-key).

- Set `targetID` to your team/project ID, `targetType` to `RPOJECT_GENERAL_MODE_PLAN`, `tier` to your desired tier. For more information about the resources provided by each tier, see [Pricing plans for general mode](enterprise/pricing#pricing-plans-for-general-mode).

</Info>



To check whether your subscription is active, make a request to the [GET /v1/subscriptions/{subscriptionId}](api-reference/get-subscription) endpoint.

**Example request**:


<CodeGroup>
```curl

```

```python

```

```node.js

```
</CodeGroup>



**Example response**:

```json

```

Check the value of the `status` field. Value `active` indicates the subscription is currently active. Other possible values are:

- `incomplete_checkout`: The payment is pending.

- `past_due`: The subscription is overdue but within the grace period.

- `fail`: Subscription failed.
